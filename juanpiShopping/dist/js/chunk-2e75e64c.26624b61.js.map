{"version":3,"sources":["webpack:///./src/views/register/index.vue?6a6b","webpack:///./src/views/register/index.vue?d324","webpack:///src/views/register/index.vue","webpack:///./src/views/register/index.vue?a3f6","webpack:///./src/views/register/index.vue"],"names":["_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","left-text","right-text","left-arrow","on","click-left","onClickLeft","click-right","onClickRight","_m","clearable","placeholder","error-message","usernameState","right-icon","usernameIcon","click-right-icon","$event","$toast","model","value","callback","$$v","username","expression","type","passwordState","passwordIcon","password","mescode","directives","name","rawName","slot","size","click","sendCode","_v","show","_s","count","block","register","staticRenderFns","vue_runtime_esm","use","nav_bar","field","cell","cell_group","es_button","notify","icon","toast","dialog","registervue_type_script_lang_js_","data","code","timer","computed","test","Object","methods","$router","back","replace","_this","TimeCount","main","fetch","then","res","json","console","log","_this2","method","headers","Content-Type","body","push","confirm","message","catch","views_registervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2e75e64c.26624b61.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"title\":\"注册\",\"left-text\":\"返回\",\"right-text\":\"登录\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}}),_vm._m(0),_c('van-cell-group',[_c('van-field',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入手机号码\",\"error-message\":_vm.usernameState,\"right-icon\":_vm.usernameIcon},on:{\"click-right-icon\":function($event){return _vm.$toast('question')}},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"placeholder\":\"请输入密码\",\"error-message\":_vm.passwordState,\"right-icon\":_vm.passwordIcon},on:{\"click-right-icon\":function($event){return _vm.$toast('question')}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入验证码\"},on:{\"click-right-icon\":function($event){return _vm.$toast('question')}},model:{value:(_vm.mescode),callback:function ($$v) {_vm.mescode=$$v},expression:\"mescode\"}},[_c('van-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.sendCode},slot:\"button\"},[_vm._v(\"获取验证码\")]),_c('van-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show),expression:\"!show\"}],staticClass:\"count\",attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"info\"},slot:\"button\"},[_vm._v(_vm._s(_vm.count)+\"s后重新发送\")])],1)],1),_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"normal\",\"block\":true},on:{\"click\":_vm.register}},[_vm._v(\"注册\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"point\"},[_c('p',[_vm._v(\"请确保你的手机畅通，用于接收验证码短信\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <van-nav-bar\r\n      title=\"注册\"\r\n      left-text=\"返回\"\r\n      right-text=\"登录\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n      @click-right=\"onClickRight\"\r\n    />\r\n    <div class=\"point\">\r\n      <p>请确保你的手机畅通，用于接收验证码短信</p>\r\n    </div>\r\n    <van-cell-group>\r\n      <van-field\r\n        v-model=\"username\"\r\n        clearable\r\n        placeholder=\"请输入手机号码\"\r\n        @click-right-icon=\"$toast('question')\"\r\n        :error-message=\"usernameState\"\r\n        :right-icon=\"usernameIcon\"\r\n      />\r\n\r\n      <van-field\r\n        v-model=\"password\"\r\n        clearable\r\n        type=\"password\"\r\n        placeholder=\"请输入密码\"\r\n        @click-right-icon=\"$toast('question')\"\r\n        :error-message=\"passwordState\"\r\n        :right-icon=\"passwordIcon\"\r\n      />\r\n\r\n      <van-field\r\n        v-model=\"mescode\"\r\n        clearable\r\n        placeholder=\"请输入验证码\"\r\n        @click-right-icon=\"$toast('question')\"\r\n      >\r\n        <van-button slot=\"button\" size=\"small\" type=\"info\" @click=\"sendCode\" v-show=\"show\">获取验证码</van-button>\r\n        <van-button slot=\"button\" size=\"small\" type=\"info\"  v-show=\"!show\" class=\"count\" >{{ count }}s后重新发送</van-button>\r\n      </van-field>\r\n    </van-cell-group>\r\n    <van-button type=\"info\" size=\"normal\" @click=\"register\" :block=\"true\">注册</van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { NavBar, Field, Cell, CellGroup, Button, Notify, Icon, Toast, Dialog } from 'vant'\r\nimport { setInterval, clearInterval } from 'timers'\r\n\r\nVue.use(NavBar)\r\nVue.use(Field)\r\nVue.use(Cell).use(CellGroup)\r\nVue.use(Button)\r\nVue.use(Notify)\r\nVue.use(Icon)\r\nVue.use(Toast)\r\nVue.use(Dialog)\r\nexport default {\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      mescode: '',\r\n      code: '',\r\n      show: true,\r\n      count: '',\r\n      timer: null\r\n    }\r\n  },\r\n  // 计算属性，计算状态和图标的变化\r\n  computed: {\r\n    usernameState () {\r\n      if (this.username === '') {\r\n        return ''\r\n      } else if (!(/^1[3456789]\\d{9}$/.test(this.username))) {\r\n        Notify('手机号只能为11位数字以1开头，第二位为3到9')\r\n        return '手机号格式错误'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    usernameIcon () {\r\n      if (this.username === '') {\r\n        return ''\r\n      } else if ((/^1[3456789]\\d{9}$/.test(this.username))) {\r\n        return 'passed'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    passwordState () {\r\n      if (this.password === '') {\r\n        return ''\r\n      } else if (!(/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/.test(this.password))) {\r\n        Notify('密码只能为5-20个以字母开头、可带数字和.的字串')\r\n        return '密码格式错误'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    passwordIcon () {\r\n      if (this.password === '') {\r\n        return ''\r\n      } else if ((/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/.test(this.password))) {\r\n        return 'passed'\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onClickLeft () {\r\n      this.$router.back()\r\n    },\r\n    onClickRight () {\r\n      this.$router.replace('/login')\r\n    },\r\n    sendCode () {\r\n      // 验证码发送倒计时\r\n      const TimeCount = 60\r\n      if (!this.timer) {\r\n        this.count = TimeCount\r\n        this.show = false\r\n        this.timer = setInterval(() => {\r\n          if (this.count > 0 && this.count <= TimeCount) {\r\n            this.count--\r\n          } else {\r\n            this.show = true\r\n            clearInterval(this.timer)\r\n            this.timer = null\r\n          }\r\n        }, 1000)\r\n      }\r\n      // 验证码非空校验\r\n      // if (this.code === '') {\r\n      //   return ''\r\n      // }\r\n      // 请求校验数据\r\n      fetch('https://www.daxunxun.com/users/sendCode?tel=' + this.username).then(res => res.json()).then(data => {\r\n        console.log(data)\r\n        if (data === 1) {\r\n          // console.log('手机号已经注册')\r\n          Toast('手机号已经注册')\r\n        } else if (data === 0) {\r\n          // console.log('手机号验证码获取失败')\r\n          Toast('手机号验证码获取失败')\r\n        } else {\r\n          this.code = data.code\r\n        }\r\n      })\r\n    },\r\n    register () {\r\n      if (this.usernameIcon !== 'passed') {\r\n        Toast('手机号格式错误')\r\n        return null\r\n      }\r\n      if (this.passwordIcon !== 'passed') {\r\n        Toast('密码格式错误')\r\n        return null\r\n      }\r\n      if (this.mescode !== this.code) {\r\n        Toast('验证码输入错误')\r\n        return null\r\n      }\r\n      fetch('https://www.daxunxun.com/users/register', {\r\n        method: 'post',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: 'username=' + this.username + '&password=' + this.password\r\n      }).then(res => res.json()).then(data => {\r\n        if (data === 1) {\r\n          // console.log('注册成功')\r\n          Toast('注册成功')\r\n          this.$router.push('/login')\r\n        } else if (data === 2) {\r\n          // console.log('用户名已经注册')\r\n          Dialog.confirm({\r\n            title: '提示',\r\n            message: '该用户名已经注册，是否直接去登录'\r\n          }).then(() => {\r\n            this.$router.push('/login')\r\n          }).catch(() => {\r\n            // on cancel\r\n          })\r\n        } else {\r\n          // console.log('注册失败')\r\n          Toast('注册失败')\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.point {\r\n  width: 100%;\r\n  height: 0.5rem;\r\n  // background-color: red;\r\n  // border-bottom: 1px solid #ccc;\r\n  p {\r\n    text-align: center;\r\n    font-size: 12px;\r\n    color: #ccc;\r\n    margin-top: 0.2rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3bb43518&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}